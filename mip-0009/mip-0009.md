```
MIP: 9
Title: Token exchange
Author: Jason Chavannes <jason@memo.cash>
Status: Draft
Created: 2019-06-05
```

## Abstract

List tokens for sale.
Make purchase offers.
Accept purchase offers and transfer using an atomic transaction.

## Motivation

Decentralized way to exchange tokens.

## Specification

<table>
<tr>
    <th>Action</th>
    <th>Prefix</th>
    <th>Values</th>
</tr>
<tr>
    <td>List sale</td>
    <td>0x6d30</td>
    <td>
        OP_RETURN<br>
        &lt;prefix: 0x6d30&gt; (2 bytes)<br>
        &lt;input/outputs&gt; x n
    </td>
</tr>
<tr>
    <td>Make offer</td>
    <td>0x6d31</td>
    <td>
        OP_RETURN<br>
        &lt;list_sale_hash&gt; (30 bytes)<br>
        &lt;signature&gt; (? bytes)<br>
        &lt;input/outputs&gt; x n
    </td>
</tr>
</table>

#### Input / output types
<table>
<tr>
    <th>Input</th>
    <td>
        &lt;type: 1&gt; (1 byte)<br>
        &lt;tx_hash&gt; (30 bytes)<br>
        &lt;index&gt; (2 bytes)<br>
        &lt;quantity&gt; (8 bytes, integer)
    </td>
</tr>
<tr>
    <th>Bitcoin Output</th>
    <td>
        &lt;type: 2&gt; (1 byte)<br>
        &lt;address&gt; (35 bytes)<br>
        &lt;quantity&gt; (8 bytes, integer)<br>
    </td>
</tr>
<tr>
    <th>Token Output</th>
    <td>
        &lt;type: 3&gt; (1 byte)<br>
        &lt;address&gt; (35 bytes)<br>
        &lt;quantity&gt; (8 bytes, integer)<br>
    </td>
</tr>
</table>


- Accept the offer by signing and broadcasting the transaction
- Decline an offer or remove a listing by:
  - Not accepting (passive)
  - Accepting another offer
  - Moving the token(s)
  - Replacing with a newer listing

#### Example

–

## Reference Implementation

–

## See Also

–
